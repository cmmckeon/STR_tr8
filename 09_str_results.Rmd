---
title: "str_results"
author: "Caroline McKeon"
date: "5/24/2021"
output: html_document
---

There is evidence of a relationships between traits and range size.

Initial questions guiding hypothesis
-	in our data, can we detect a relationship between range metrics and species traits
-	do these relationships differ between range size and range structure
-	are relationships between traits and range structure climate-dependent
-	do multiple factors combined better explain range structure

Data
All continuous variables have been a) log transformed to address kurtosis if appropriate, and b) scaled, so that slopes of relationships between variables directly represent correlation. 

Metrics

Traits
Trait values for continuous traits are the maximum recorded values in our data for that trait.
Each trait model is built using a slightly different subset of the data, as not all species had data for all traits. The spread of metric values were similar across all of these subsets.

Nichebreath 

Humanfootprint ratio

Overview

1.	Exploration of phylogeny and collinearity within the data

Metrics ~ phylogeny
Traits ~ phylogeny

Metrics ~ metrics 
Traits ~ traits

2.	Analysis of individual traits

metrics and individual traits
metrics and individual traits and climate

3.	Analysis of multiple traits

metrics and multiple traits
metrics and multiple traits and climate

4.	Analysis of climate and land

metrics ~ human footprint ratio
metrics ~ climate 
comparison of relationship of climate and human footprint to metrics

5.	metric ~ best model  
1. Exploration
Phylogeny 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#save.image(file = "my_work_space.RData")
load("my_work_space.RData")
```

## 1. Exploration
```{r}
par(mfrow = c(1,6), margin(1,1,1,1))
ts <- list(height, sla, seed_mass, leaf_area, woodiness, lifeform)
t <- c("height", "sla", "seed_mass", "leaf_area", "woodiness", "lifeform")
for(i in 1:length(ts)){
  new_tree <- drop.tip(clean_tree, as.character(setdiff(clean_tree$tip.label, 
                                                        unique(ts[[i]][["species"]]))))
  plotTree(new_tree,type="fan",fsize=0.1,lwd=0.5, ftype="i", part = 0.93, main = paste(t[i]))
  mtext(paste(t[i]), side =1)
  
}
```


```{r}
  sum <- as.data.frame(summary(m_indiv_height[[i]][["height"]][[1]][["Sol"]])[["statistics"]])
summary(m_indiv_height[[i]][["height"]][[1]])
```





